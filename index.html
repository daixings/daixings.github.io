<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title> ğŸ­é¼ é¼ çš„å°å¹´ç¥ç¦åº—ğŸ­  </title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      background: linear-gradient(145deg, #ffe6e6, #ffcccb);
      min-height: 100vh;
      font-family: 'Microsoft YaHei', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      position: relative;
      overflow-x: hidden;
    }

    /* === åº•å±‚æ˜Ÿå…‰ï¼ˆé™æ€ç‚¹ç¼€ï¼‰=== */
    body::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -2;
      background-image: 
        radial-gradient(circle, #ffd700 1px, transparent 1px),
        radial-gradient(circle, #ffffff 0.8px, transparent 0.8px);
      background-size: 100px 100px, 180px 180px;
      opacity: 0.12;
      animation: twinkle-bg 12s ease-in-out infinite;
    }
    @keyframes twinkle-bg {
      0%, 100% { opacity: 0.1; }
      50% { opacity: 0.18; }
    }

    .card {
      max-width: 520px;
      width: 100%;
      background: #fff9f0;
      border-radius: 48px;
      box-shadow: 0 20px 30px rgba(255, 150, 150, 0.2);
      padding: 30px 20px;
      text-align: center;
      position: relative;
      border: 4px solid #ffcccb;
      overflow: hidden;
      z-index: 1;
    }

    h1 {
      color: #b33f2f;
      font-size: 28px;
      margin-bottom: 20px;
      text-shadow: 2px 2px 0 #ffe9c7;
      letter-spacing: 4px;
    }

    .mouse-hero {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: url('https://files.catbox.moe/mpiyvw.png') no-repeat center/cover;
      margin: 20px auto;
      cursor: pointer;
      transition: transform 0.2s;
      border: 3px solid #fdd5b5;
      box-shadow: 0 8px 12px rgba(0,0,0,0.1);
    }
    .mouse-hero:hover {
      transform: scale(1.1);
    }

    /* === ç¤¼ç‰©ç½‘æ ¼ï¼šå®Œç¾å±…ä¸­å¯¹é½ === */
    .grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 18px;
      margin: 25px auto;
      max-width: 420px;
      justify-items: center;
    }

    .item {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: #fff;
      border: 3px solid #fdd5b5;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transition: all 0.2s;
      position: relative;
      overflow: hidden;
    }
    .item:hover {
      transform: scale(1.1);
      box-shadow: 0 8px 16px rgba(0,0,0,0.15);
    }
    .item:active {
      transform: scale(0.95);
    }
    .item span {
      font-size: 14px;
      color: #7b4a3a;
      margin-top: 4px;
      white-space: nowrap;
      line-height: 1.2;
    }
    .horse-item {
      background: #ffd966;
      border-color: #c49a3f;
    }

    .lanterns {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 15px 0;
    }
    .lantern {
      font-size: 32px;
      animation: swing 4s ease-in-out infinite;
    }
    .lantern:nth-child(2) { animation-delay: 0.5s; }
    .lantern:nth-child(3) { animation-delay: 1s; }
    @keyframes swing {
      0%, 100% { transform: rotate(-5deg); }
      50% { transform: rotate(5deg); }
    }

    .msg-box {
      background: #fff3e2;
      padding: 16px;
      border-radius: 60px;
      margin: 20px auto;
      max-width: 400px;
      font-size: 18px;
      color: #ad3a2a;
      border: 2px solid #ff9e80;
      min-height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      word-break: break-word;
      opacity: 0;
      animation: fadeIn 1s forwards;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .fireworks-btn {
      background: #fd7e5c;
      color: white;
      border: none;
      font-size: 24px;
      padding: 14px 0;
      border-radius: 50px;
      font-weight: bold;
      width: 80%;
      margin: 10px auto 0;
      cursor: pointer;
      border-bottom: 5px solid #b6492e;
      transition: all 0.1s;
    }
    .fireworks-btn:active {
      transform: translateY(4px);
      border-bottom-width: 2px;
    }

    .footer {
      margin-top: 20px;
      color: #974b3a;
      font-size: 16px;
      line-height: 1.4;
    }

    /* === é£˜é›ª & é—ªçƒæ˜Ÿå…‰ï¼ˆåŠ¨æ€ï¼‰=== */
    .snowflake,
    .twinkle-star {
      position: absolute;
      top: -20px;
      font-size: 20px;
      pointer-events: none;
      z-index: 0;
      opacity: 0.8;
      animation: fall linear infinite;
    }
    .twinkle-star {
      font-size: 16px;
      opacity: 0.9;
      animation-duration: 6s;
      animation-name: twinkle-fall;
    }
    @keyframes fall {
      to { transform: translateY(105vh) rotate(360deg); }
    }
    @keyframes twinkle-fall {
      0%   { opacity: 0; transform: translateY(0) rotate(0); }
      10%  { opacity: 0.9; }
      90%  { opacity: 0.9; }
      100% { opacity: 0; transform: translateY(105vh) rotate(720deg); }
    }

    .particle {
      position: absolute;
      font-size: 24px;
      pointer-events: none;
      z-index: 5;
      opacity: 1;
    }

    /* === é€šç”¨å¼¹çª—æ ·å¼ === */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
    }
    .modal-overlay.active {
      opacity: 1;
      pointer-events: all;
    }

    .modal-card {
      background: linear-gradient(140deg, #fff9e6, #ffe0b2);
      padding: 24px;
      border-radius: 20px;
      text-align: center;
      max-width: 300px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      transform: scale(0.8);
      animation: popIn 0.4s forwards;
    }
    @keyframes popIn {
      to { transform: scale(1); }
    }

    .modal-card h2 {
      color: #d32f2f;
      margin-bottom: 12px;
      font-size: 20px;
    }
    .modal-card p {
      color: #5d4037;
      line-height: 1.5;
      margin-bottom: 16px;
    }
    .modal-btn {
      background: #ff9800;
      color: white;
      border: none;
      padding: 8px 20px;
      border-radius: 24px;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
    }
    .modal-btn:hover {
      background: #f57c00;
    }
  </style>
</head>
<body>

  <div class="card">
    <h2>ğŸ®é¼ é¼ çš„å°å¹´ç¤¼å“åº—ğŸ®</h2>
    
    <div class="mouse-hero" id="mouseHero"></div>

    <!-- ç¤¼ç‰©ç½‘æ ¼ -->
    <div class="grid">
      <div class="item" id="tanggua"><div>ğŸ</div><span>ç¥ç§˜ç¤¼ç‰©</span></div>
      <div class="item horse-item" id="horse1"><div>ğŸ</div><span>ç¥ç§˜ç¤¼ç‰©</span></div>
      <div class="item" id="dog"><div>ğŸ</div><span>ç¥ç§˜ç¤¼ç‰©</span></div>
      <div class="item" id="hongbao"><div>ğŸ</div><span>ç¥ç§˜ç¤¼ç‰©</span></div>
      <div class="item" id="window"><div>ğŸ</div><span>ç¥ç§˜ç¤¼ç‰©</span></div>
      <div class="item" id="fu"><div>ğŸ</div><span>ç¥ç§˜ç¤¼ç‰©</span></div>
    </div>

    <div class="lanterns">
      <div class="lantern">ğŸ®</div>
      <div class="lantern">ğŸ®</div>
      <div class="lantern">ğŸ®</div>
    </div>

    <div class="msg-box" id="messageDisplay">
      âœ¨ é¼ å¤´ç‚¹ç‚¹ï¼Œç¦æ°”è¿è¿ï¼ âœ¨
    </div>

    <button class="fireworks-btn" id="fireworksBtn">ğŸ† æ”¾çƒŸèŠ±</button>

    <div class="footer">
      ä¸Šå¤©è¨€å¥½äº‹ Â· ä¸‹ç•Œä¿å¹³å®‰<br>
      â„ï¸ å°å¹´å¿«ä¹ å¹´å¹´ç”œèœœ â„ï¸
    </div>
  </div>

  <!-- å½©è›‹1ï¼šäº”ç¦ä¸´é—¨ -->
  <div class="modal-overlay" id="modal1">
    <div class="modal-card">
      <h2>ğŸŒŸ äº”ç¦ä¸´é—¨ï¼</h2>
      <p>é¼ é¼ é€ä½ äº”ç¦ï¼š<br>æ»¡ç«¹ğŸ‹ã€å¯Œæ¡‚ğŸ’ã€å®‰åº·ğŸ¥ã€è·ç¦ğŸª·ã€å¹¸ç¦ğŸ˜Šï¼</p>
      <button class="modal-btn" onclick="closeModal('modal1')">âœ¨ å¥½è€¶ï¼</button>
    </div>
  </div>

  <!-- å½©è›‹2ï¼šåŒå–œä¸´é—¨ -->
  <div class="modal-overlay" id="modal2">
    <div class="modal-card">
      <h2>ğŸ‰ åŒå–œä¸´é—¨ï¼</h2>
      <p>å¥½äº‹æˆåŒï¼<br>ğŸ€ğŸ€ç¦æ°” Ã—2ï¼Œå¿«ä¹ Ã—2ï¼Œå¥½è¿ Ã—2ï¼ğŸ€ğŸ€</p>
      <button class="modal-btn" onclick="closeModal('modal2')">ğŸ’– æ”¶ä¸‹å•¦ï¼</button>
    </div>
  </div>

  <!-- å½©è›‹3ï¼šå…‘å¥–åˆ¸ -->
  <div class="modal-overlay" id="modal3">
    <div class="modal-card">
      <h2>ğŸ« é¼ é¼ ç§˜è—å…‘å¥–åˆ¸</h2>
      <!--<p>å‡­æ­¤åˆ¸å¯å…‘æ¢ï¼š<br> --> 
      <!--  â€¢ ä¸€æ•´å¹´çš„å¥½è¿ ğŸ€<br>--> 
      <!--  â€¢ é¼ é¼ çš„çœŸå¿ƒç¥ç¦ ğŸ§§<br>--> 
      <!--</p>--> 
      <button class="modal-btn" onclick="closeModal('modal3')">ğŸ æˆ‘å·²é¢†å–</button>
    </div>
  </div>

  <script>
    // === å…³é—­å¼¹çª—å‡½æ•° ===
    function closeModal(id) {
      document.getElementById(id).classList.remove('active');
    }

    // === åŠ¨æ€ç”Ÿæˆé›ªèŠ±å’Œæ˜Ÿå…‰ ===
    function createSnowAndStars() {
      const container = document.body;
      const total = 25;
      for (let i = 0; i < total; i++) {
        if (Math.random() > 0.3) {
          const snow = document.createElement('div');
          snow.className = 'snowflake';
          snow.textContent = 'â„ï¸';
          snow.style.left = Math.random() * 100 + '%';
          snow.style.fontSize = (16 + Math.random() * 12) + 'px';
          snow.style.opacity = 0.6 + Math.random() * 0.3;
          snow.style.animationDuration = (8 + Math.random() * 10) + 's';
          container.appendChild(snow);
          setTimeout(() => snow.remove(), 18000);
        } else {
          const star = document.createElement('div');
          star.className = 'twinkle-star';
          star.textContent = 'âœ¨';
          star.style.left = Math.random() * 100 + '%';
          star.style.animationDelay = Math.random() * 5 + 's';
          container.appendChild(star);
          setTimeout(() => star.remove(), 12000);
        }
      }
    }

    // === æ˜¾ç¤ºç¥ç¦ ===
    const display = document.getElementById('messageDisplay');
    function showBlessing(msg) {
      display.textContent = msg;
      display.style.animation = 'none';
      void display.offsetWidth;
      display.style.animation = 'fadeIn 0.5s forwards';
    }

    // === ç¤¼ç‰©é…ç½® ===
    const giftConfigs = {
      tanggua: {
        emojis: ['ğŸ¬', 'ğŸ­', 'ğŸ¯', 'ğŸ¡'],
        names: ['ç³–æœ', 'ç”œå®', 'èœœç½', 'ç¦ä¸¸'],
        blessings: [
          'ğŸ¬ ç³–æœç”Ÿæ¬¢å–œï¼Œç¥¥äº‘ç»•é—¨ç¬¬ï¼',
          'ğŸ­ ç”œç”œèœœèœœï¼Œé©¬å¹´é¡ºå¿ƒå¦‚æ„ï¼',
          'ğŸ¯ èœ‚èœœæ»¡ç½ï¼Œç¦æ°”ç”œåˆ°å¿ƒåï¼',
          'ğŸ¡ å›¢å›¢åœ†åœ†ï¼Œæ—¥å­çº¢ç«åˆé¦™ç”œï¼'
        ]
      },
      horse1: {
        emojis: ['ğŸ', 'ğŸ´', 'ğŸ‡', 'ğŸ¦„'],
        names: ['éªé©¬', 'å°é©¬', 'éª‘æ‰‹', 'å¤©é©¬'],
        blessings: [
          'ğŸ ä¸€é©¬å½“å…ˆï¼Œäº‹ä¸šé«˜å‡ï¼',
          'ğŸ´ é¾™é©¬ç²¾ç¥ï¼Œå¥åº·å¸¸ä¼´ï¼',
          'ğŸ‡ ç­–é©¬æ‰¬é­ï¼Œå‹‡é—¯æ–°ç¨‹ï¼',
          'ğŸ¦„ å¤©é©¬è¡Œç©ºï¼Œæ¢¦æƒ³æˆçœŸï¼'
        ]
      },
      dog: {
        emojis: ['ğŸ¶', 'ğŸ•', 'ğŸ¾', 'ğŸ¦®'],
        names: ['æ—ºè´¢', 'å°é»„', 'ç¦çˆª', 'ç¥çŠ¬'],
        blessings: [
          'ğŸ¶ æ—ºè´¢å®ˆé—¨ï¼Œé‡‘é“¶æ»¡å±‹ï¼',
          'ğŸ• å¿ è¯šæŠ¤å®¶ï¼Œå¹³å®‰å‰ç¥¥ï¼',
          'ğŸ¾ ç¦çˆªè¸æ˜¥ï¼Œå¥½è¿è¿è¿ï¼',
          'ğŸ¦® ç¥çŠ¬å¼•è·¯ï¼Œè´µäººç›¸åŠ©ï¼'
        ]
      },
      hongbao: {
        emojis: ['ğŸ§§', 'ğŸ’°', 'ğŸ', 'ğŸª™'],
        names: ['çº¢åŒ…', 'é‡‘å…ƒå®', 'ç¦è¢‹', 'é“œé’±'],
        blessings: [
          'ğŸ§§ é©¬å¹´çº¢åŒ…ï¼Œå¥½è¿é©¬ä¸Šåˆ°ï¼',
          'ğŸ’° é©¬ä¸Šå‘è´¢ï¼Œè´¢æºæ»šæ»šæ¥ï¼',
          'ğŸ ç¦è¢‹ä¸€å¼€ï¼ŒæƒŠå–œä¸æ–­ï¼',
          'ğŸª™ é“œé’±ä¸²ä¸²ï¼Œå¯Œè´µå¹´å¹´ï¼'
        ]
      },
      window: {
        emojis: ['ğŸªŸ', 'âœ‚ï¸', 'ğŸ®', 'ğŸ¨'],
        names: ['çª—èŠ±', 'å‰ªçº¸', 'ç¯ç¬¼', 'å½©ç»˜'],
        blessings: [
          'ğŸªŸ çª—èŠ±æ˜ é©¬ï¼Œæ˜¥é£é€ç¦ï¼',
          'âœ‚ï¸ å·§æ‰‹å‰ªç¦ï¼Œä¸‡è±¡æ›´æ–°ï¼',
          'ğŸ® ç¯ç¬¼é«˜æŒ‚ï¼Œçº¢çº¢ç«ç«ï¼',
          'ğŸ¨ å½©ç»˜è¿æ–°ï¼Œç”Ÿæ´»å¦‚ç”»ï¼'
        ]
      },
      fu: {
        emojis: ['ğŸ§§', 'ğŸ€„', 'âœ¨', 'ğŸŒŸ'],
        names: ['ç¦å­—', 'ç¦ç‰Œ', 'æ˜Ÿå…‰', 'å‰æ˜Ÿ'],
        blessings: [
          'ğŸ§§ ç¦åˆ°æˆ‘å®¶ï¼Œé©¬å¹´å¤§å‰ï¼',
          'ğŸ€„ ç¦ç‰Œé•‡å®…ï¼Œä¸‡äº‹äº¨é€šï¼',
          'âœ¨ æ˜Ÿå…‰ç…§ç¦ï¼Œå¿ƒæƒ³äº‹æˆï¼',
          'ğŸŒŸ å‰æ˜Ÿé«˜ç…§ï¼Œå¥½è¿å¸¸ä¼´ï¼'
        ]
      }
    };

    // === ç»‘å®šç¤¼ç‰©ç‚¹å‡» ===
    Object.keys(giftConfigs).forEach(id => {
      const el = document.getElementById(id);
      const config = giftConfigs[id];
      el.addEventListener('click', function () {
        let idx = parseInt(this.dataset.currentIndex) || 0;
        if (!this.dataset.revealed) this.dataset.revealed = 'true';
        this.querySelector('div').textContent = config.emojis[idx];
        this.querySelector('span').textContent = config.names[idx];
        showBlessing(config.blessings[idx]);
        idx = (idx + 1) % config.emojis.length;
        this.dataset.currentIndex = idx;
      });
    });

    // === é¼ å¤´ç‚¹å‡» + ä¸‰é˜¶æ®µå½©è›‹ ===
    let clickCount = 0;
    let lastClickTime = 0;
    const RESET_TIMEOUT = 30000; // 30ç§’è¶…æ—¶é‡ç½®

    document.getElementById('mouseHero').addEventListener('click', function() {
      const now = Date.now();
      if (now - lastClickTime > RESET_TIMEOUT) {
        clickCount = 0;
      }
      clickCount++;
      lastClickTime = now;

      // æ¯æ¬¡éƒ½æ˜¾ç¤ºåŸºç¡€ç¥ç¦
      showBlessing('ğŸ­ é¼ å¤´ä¸€æ‘‡ï¼Œå¥½è¿æ¥åˆ°ï¼');

      // åˆ†é˜¶æ®µè§¦å‘å½©è›‹
      if (clickCount === 5) {
        document.getElementById('modal1').classList.add('active');
      } else if (clickCount === 7) {
        document.getElementById('modal2').classList.add('active');
      } else if (clickCount === 8) {
        document.getElementById('modal3').classList.add('active');
        clickCount = 0; // é‡ç½®ï¼Œå¯é‡å¤ç©
      }
    });

    // === çƒŸèŠ±ç‰¹æ•ˆ ===
    function createFireworks(x, y) {
      const emojis = ['ğŸ‡', 'ğŸ†', 'âœ¨', 'ğŸ’«', 'ğŸŒŸ'];
      for (let i = 0; i < 12; i++) {
        const p = document.createElement('div');
        p.className = 'particle';
        p.textContent = emojis[Math.floor(Math.random() * emojis.length)];
        p.style.left = `${x}px`;
        p.style.top = `${y}px`;
        document.body.appendChild(p);

        const angle = Math.random() * Math.PI * 2;
        const dist = 80 + Math.random() * 100;
        const dur = 0.8 + Math.random() * 0.5;

        p.animate([
          { transform: 'translate(0,0) scale(1)', opacity: 1 },
          { transform: `translate(${Math.cos(angle)*dist}px, ${Math.sin(angle)*dist}px) scale(0)`, opacity: 0 }
        ], {
          duration: dur * 1000,
          easing: 'cubic-bezier(0, .9, .57, 1)',
          fill: 'forwards'
        });
        setTimeout(() => p.remove(), dur * 1000);
      }
    }

    document.getElementById('fireworksBtn').addEventListener('click', function(e) {
      const rect = this.getBoundingClientRect();
      const x = rect.left + rect.width / 2;
      const y = rect.top + rect.height / 2;
      createFireworks(x, y);
      showBlessing('ğŸ’¥ ç °ï¼çƒŸèŠ±ç»½æ”¾ï¼å°å¹´å¤§å‰ï¼');
    });

    // å¯åŠ¨èƒŒæ™¯åŠ¨ç”»
    createSnowAndStars();
    setInterval(createSnowAndStars, 6000);
  </script>
</body>
</html>
